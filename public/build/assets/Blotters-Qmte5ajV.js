import{r as u,e as c,j as s,W as S,y as M}from"./app-Ol-D_1Bb.js";import{o}from"./Modal-6J6RMG_c.js";import{B as R}from"./Breadcrumb-Bf-mnpWr.js";import{A as D}from"./AuthenticatedLayout-CTGyeBO0.js";import{i as L}from"./incidentTypes-Ciie-LQN.js";import{S as x,a as W}from"./Sweetalert-Ckkx9xKo.js";var I=["color","size","title","className"];function g(){return g=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function V(e,a){if(e==null)return{};var n=A(e,a),r,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A(e,a){if(e==null)return{};var n={},r=Object.keys(e),t,i;for(i=0;i<r.length;i++)t=r[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var w=u.forwardRef(function(e,a){var n=e.color,r=e.size,t=e.title,i=e.className,d=V(e,I);return c.createElement("svg",g({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n,className:["bi","bi-chevron-left",i].filter(Boolean).join(" ")},d),t?c.createElement("title",null,t):null,c.createElement("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"}))});w.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};w.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var H=["color","size","title","className"];function v(){return v=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function Y(e,a){if(e==null)return{};var n=q(e,a),r,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q(e,a){if(e==null)return{};var n={},r=Object.keys(e),t,i;for(i=0;i<r.length;i++)t=r[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var N=u.forwardRef(function(e,a){var n=e.color,r=e.size,t=e.title,i=e.className,d=Y(e,H);return c.createElement("svg",v({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n,className:["bi","bi-chevron-right",i].filter(Boolean).join(" ")},d),t?c.createElement("title",null,t):null,c.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"}))});N.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};N.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var F=["color","size","title","className"];function y(){return y=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function G(e,a){if(e==null)return{};var n=J(e,a),r,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J(e,a){if(e==null)return{};var n={},r=Object.keys(e),t,i;for(i=0;i<r.length;i++)t=r[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var O=u.forwardRef(function(e,a){var n=e.color,r=e.size,t=e.title,i=e.className,d=G(e,F);return c.createElement("svg",y({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n,className:["bi","bi-download",i].filter(Boolean).join(" ")},d),t?c.createElement("title",null,t):null,c.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"}),c.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"}))});O.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};O.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var K=["color","size","title","className"];function j(){return j=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}function Q(e,a){if(e==null)return{};var n=U(e,a),r,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function U(e,a){if(e==null)return{};var n={},r=Object.keys(e),t,i;for(i=0;i<r.length;i++)t=r[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var k=u.forwardRef(function(e,a){var n=e.color,r=e.size,t=e.title,i=e.className,d=Q(e,K);return c.createElement("svg",j({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n,className:["bi","bi-eye",i].filter(Boolean).join(" ")},d),t?c.createElement("title",null,t):null,c.createElement("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z"}),c.createElement("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0"}))});k.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};k.defaultProps={color:"currentColor",size:"1em",title:null,className:""};var X=["color","size","title","className"];function b(){return b=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function Z(e,a){if(e==null)return{};var n=ee(e,a),r,t;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ee(e,a){if(e==null)return{};var n={},r=Object.keys(e),t,i;for(i=0;i<r.length;i++)t=r[i],!(a.indexOf(t)>=0)&&(n[t]=e[t]);return n}var P=u.forwardRef(function(e,a){var n=e.color,r=e.size,t=e.title,i=e.className,d=Z(e,X);return c.createElement("svg",b({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n,className:["bi","bi-trash",i].filter(Boolean).join(" ")},d),t?c.createElement("title",null,t):null,c.createElement("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5m3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0z"}),c.createElement("path",{d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4zM2.5 3h11V2h-11z"}))});P.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};P.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const te=({links:e,setPage:a})=>{const n=t=>t?"cursor-pointer mr-1 mb-1 px-3 py-1 text-sm leading-4 bg-opacity-10 bg-warning text-warning rounded focus:border-primary focus:text-primary":"cursor-pointer mr-1 mb-1 px-3 py-1 text-sm leading-4 bg-success text-success  bg-opacity-10 rounded hover:bg-slate-700 hover:text-white focus:border-primary focus:text-primary",r=t=>{const i=parseInt(t==null?void 0:t.charAt((t==null?void 0:t.length)-1));return i==null||isNaN(i)?1:i};return(e==null?void 0:e.length)>3&&s.jsx("div",{className:"mb-2 grid grid-cols-1 place-items-end mt-4",children:s.jsx("div",{className:"flex flex-wrap content-center mb-2",children:e==null?void 0:e.map((t,i)=>t.label==="&laquo; Previous"?s.jsx("div",{className:"mr-1 mb-1 px-3 py-1 text-sm leading-4  bg-success text-success  bg-opacity-10  rounded hover:primaryCyanHOver hover:text-white",onClick:()=>a(r(t==null?void 0:t.url)),children:s.jsx(w,{})},i):t.label==="Next &raquo;"?s.jsx("div",{className:"mr-1 mb-1 px-3 py-1 text-sm leading-4  bg-success text-success  bg-opacity-10  rounded hover:primaryCyanHOver hover:text-white",onClick:()=>a(r(t==null?void 0:t.url)),children:s.jsx(N,{})},i):s.jsx("div",{className:n(t.active),onClick:()=>a(i),children:t==null?void 0:t.label},i))})})},re=te,ae=e=>{if(!e)return"Not Specified";let a=e==null?void 0:e.toString();a=a==null?void 0:a.substr(0,10);const[n,r,t]=a==null?void 0:a.split("-");return a=new Date(+n,+r-1,+t),a=a==null?void 0:a.toString().slice(3,15),a},ne=ae;function pe({auth:e,blotters:a,message:n}){var z;const r=l=>{var p,h;const m=(p=L)==null?void 0:p.filter(f=>(f==null?void 0:f.id)==l)[0];return(h=m==null?void 0:m.value)==null?void 0:h.split(" - ")[0]},{data:t,setData:i,errors:d,processing:se,delete:E,get:C}=S({id:0,keyword:"",per_page:10,page:1}),B=()=>{E(route("blotter")),W("Blotter remove successfully.","Deleted blotter from database","success",2500)},_=l=>{l.preventDefault(),C(route("blotter.blotters"))},$=l=>{M.visit("/blotter/edit",{method:"get",data:{id:l}})},T=l=>{l.preventDefault(),x.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0,customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"}}).then(m=>{if(m.isConfirmed)return B(),x.fire({title:"Deleted!",text:"Your file has been deleted.",icon:"success"});m.dismiss===x.DismissReason.cancel&&x.fire({title:"Cancelled",text:"Your blotter file is safe :)",icon:"error"})})};return console.log(t.per_page),s.jsxs(D,{user:e.user,header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Blotter"}),children:[s.jsx(R,{pageName:"Entries"}),s.jsx("div",{className:"grid grid-cols-1 gap-9 sm:grid-cols-1 mt-[-.5rem]",children:s.jsxs("div",{className:"flex flex-col lg:gap-0 gap-4",children:[s.jsxs("div",{className:"flex justify-between my-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("h6",{className:"m-1",children:"Show"}),s.jsx("form",{onChange:_,children:s.jsxs("select",{name:"",onChange:l=>i("per_page",parseInt(l.target.value)),id:"",className:"rounded-lg py-1 px-4",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"20",children:"20"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})}),s.jsx("h6",{className:"m-1",children:"Entries"})]}),s.jsx("input",{type:"text",placeholder:"Search...",className:"rounded-3xl py-1 px-2"})]}),s.jsx("div",{className:"rounded-sm border border-stroke bg-white px-3 pt-3 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark xl:pb-1 mt-2",children:s.jsx("div",{className:"max-w-full overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-2 text-left dark:bg-meta-4",children:[s.jsx("th",{className:"min-w-[120px] py-4 px-2 font-medium text-black dark:text-white xl:pl-11",children:"Entry No."}),s.jsx("th",{className:"min-w-[150px] py-4 px-2 font-medium text-black dark:text-white",children:"Complainant"}),s.jsx("th",{className:"min-w-[120px] py-4 px-2 font-medium text-black dark:text-white",children:"Respondent"}),s.jsx("th",{className:"py-4 px-2 font-medium text-black dark:text-white",children:"Type"}),s.jsx("th",{className:"py-4 px-2 font-medium text-black dark:text-white",children:"Entry Date"}),s.jsx("th",{className:"py-4 px-2 font-medium text-black dark:text-white",children:"Remarks"}),s.jsx("th",{className:"py-4 px-2 font-medium text-black dark:text-white",children:"Action"})]})}),s.jsx("tbody",{children:(z=a==null?void 0:a.data)==null?void 0:z.map((l,m)=>{var p,h;return s.jsxs("tr",{className:"hover:bg-slate-100",children:[s.jsx("td",{className:"border-b border-[#eee] py-1.5 px-2 pl-9 dark:border-strokedark xl:pl-11",children:s.jsx("h5",{className:"font-medium text-black dark:text-white",children:l==null?void 0:l.entry_number})}),s.jsx("td",{className:"border-b border-[#eee] py-1.5 px-2 dark:border-strokedark",children:s.jsxs("p",{className:"text-black dark:text-white",children:[l==null?void 0:l.complainant_family_name,",  ",l==null?void 0:l.complainant_first_name,"  ",(p=l==null?void 0:l.complainant_middle_name)==null?void 0:p.charAt(0),"."]})}),s.jsx("td",{className:"border-b border-[#eee] py-1.5 px-2 dark:border-strokedark",children:s.jsxs("p",{className:"text-black dark:text-white",children:[l==null?void 0:l.respondent_family_name,",  ",l==null?void 0:l.respondent_first_name,"  ",(h=l==null?void 0:l.complainant_middle_name)==null?void 0:h.charAt(0),"."]})}),s.jsx("td",{className:"border-b border-[#eee] py-1.5 px-2 dark:border-strokedark",children:s.jsx("p",{className:"text-black dark:text-white",children:r(l==null?void 0:l.incident_type)})}),s.jsx("td",{className:"border-b border-[#eee] py-1.5 px-2 dark:border-strokedark",children:s.jsx("p",{className:"text-black dark:text-white",children:ne(l==null?void 0:l.created_at)})}),s.jsx("td",{className:"border-b border-[#eee] py-1.5 px-2 dark:border-strokedark",children:s.jsx("p",{className:`inline-flex rounded-full bg-opacity-10 py-1 px-3 text-sm font-medium ${(l==null?void 0:l.remarks)==="Settled"?"bg-success text-success":(l==null?void 0:l.remarks)==="Pending"?"bg-danger text-danger":"bg-warning text-warning"}`,children:l==null?void 0:l.remarks})}),s.jsx("td",{className:"border-b border-[#eee] py-1.5 px-2 dark:border-strokedark",children:s.jsxs("div",{className:"flex items-center space-x-3.5",children:[s.jsx("button",{onClick:()=>$(l.id),className:"hover:text-primary",children:s.jsx(k,{size:16})}),s.jsx("form",{onSubmit:T,children:s.jsx("button",{className:"hover:text-primary",onClick:()=>i("id",l.id),children:s.jsx(P,{size:16})})}),s.jsx("button",{className:"hover:text-primary",children:s.jsx(O,{size:16})})]})})]},m)})})]})})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("h6",{className:"m-3",children:["Showing ",s.jsx("b",{children:(t.page-1)*t.per_page+1})," to ",s.jsx("b",{children:t.per_page*t.page})," of ",s.jsx("b",{children:a==null?void 0:a.total})," entries"]}),s.jsx(re,{setPage:i,links:a==null?void 0:a.links})]})]})})]})}export{pe as default};
