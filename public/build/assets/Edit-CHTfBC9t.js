import{r as g,q as f,W as h,j as a,Y as y}from"./app-14uhZjnU.js";import{B as v,P as x,N as w,C as k,A as j,a as C,b as N,c as b,d as S}from"./PersonInvolveData-DUhZt1Cc.js";import{B as q}from"./Breadcrumb-BsKga-3b.js";import{A as B}from"./AuthenticatedLayout-C5FwnfxA.js";import{a as t}from"./Sweetalert-BGV0ZP8N.js";import"./Modal-DdcaK8_G.js";import"./incidentTypes-Ciie-LQN.js";import"./barangays-rxzxdbNU.js";import"./regions-CZh2rcfQ.js";function O({auth:_,blotter:n}){const[i,s]=g.useState("Complainant"),p=f().props.auth.user,r=new Date;r.getFullYear(),r.getMonth()+1<10?r.getMonth()+1:r.getMonth()+1,r.getDate()<10?`${r.getDate()}`:r.getDate(),r.getHours()<10?`${r.getHours()}`:r.getHours(),r.getMinutes()<10?`${r.getMinutes()}`:r.getMinutes();const{data:e,setData:o,post:d,processing:c,errors:U,reset:D}=h({user_id:p==null?void 0:p.id,entry_number:n.entry_number,barangay:n.barangay,date_reported:n.date_reported,time_of_report:n.time_of_report,incident_type:n.incident_type,complainant_data:[{complainant_family_name:n.complainant_family_name??"",complainant_first_name:n.complainant_first_name??"",complainant_middle_name:n.complainant_middle_name??"",complainant_birth_date:n.complainant_birth_date??"",complainant_place_of_birth:n.complainant_place_of_birth??"",complainant_citizenship:n.complainant_citizenship??1,complainant_gender:n.complainant_gender??1,complainant_civil_status:n.complainant_civil_status??1,complainant_occupation:n.complainant_occupation??1,complainant_education:n.complainant_education??1,complainant_email_address:n.complainant_email_address??"",complainant_street:n.complainant_street??"",complainant_village:n.complainant_village??"",complainant_barangay:n.complainant_barangay??0,complainant_city:n.complainant_city??0,complainant_province:n.complainant_province??0,complainant_region:n.complainant_region??0,complainant_work_street:n.complainant_work_street??"",complainant_work_village:n.complainant_work_village??"",complainant_work_barangay:n.complainant_work_barangay??0,complainant_work_city:n.complainant_work_city??0,complainant_work_province:n.complainant_work_province??0,complainant_work_region:n.complainant_work_region??0}],respondent_data:[{respondent_family_name:n.respondent_family_name??"",respondent_first_name:n.respondent_first_name??"",respondent_middle_name:n.respondent_middle_name??"",respondent_birth_date:n.respondent_birth_date??"",respondent_place_of_birth:n.respondent_place_of_birth??"",respondent_citizenship:n.respondent_citizenship??1,respondent_gender:n.respondent_gender??1,respondent_civil_status:n.respondent_civil_status??1,respondent_occupation:n.respondent_occupation??1,respondent_education:n.respondent_education??1,respondent_email_address:n.respondent_email_address??"",respondent_street:n.respondent_street??"",respondent_village:n.respondent_village??"",respondent_barangay:n.respondent_barangay??0,respondent_city:n.respondent_city??0,respondent_province:n.respondent_province??0,respondent_region:n.respondent_region??0,respondent_work_street:n.respondent_work_street??"",respondent_work_village:n.respondent_work_village??"",respondent_work_barangay:n.respondent_work_barangay??0,respondent_work_city:n.respondent_work_city??0,respondent_work_province:n.respondent_work_province??0,respondent_work_region:n.respondent_work_region??0}],narrative:n.narrative??"",remarks:n.narrative??"",complainant_signature:"",recorded_by:n.recorded_by??"",recorded_by_signature:""}),m=()=>e.entry_number==0?t("Entry number  is required!","Unable to proceed, please answer entry number.","error",2500):e.barangay==""?t("Barangay name is required!","Unable to proceed, please provide barangay name.","error",2500):e.incident_type==0?t("Incident type is required!","Unable to proceed, please provide incident type.","error",2500):[e.complainant_data[0].complainant_family_name,e.complainant_data[0].complainant_first_name,e.complainant_data[0].complainant_middle_name].indexOf("")!=-1?t("Complainant name is required!","Unable to proceed, please provide Complainant name.","error",2500):e.complainant_data[0].complainant_birth_date==""?t("Complainant birth date is required!","Unable to proceed, please provide birth date.","error",2500):e.complainant_data[0].complainant_place_of_birth==""?t("complainant place of birth is required!","Unable to proceed, please provide place of birth .","error",2500):[e.complainant_data[0].complainant_region,e.complainant_data[0].complainant_province,e.complainant_data[0].complainant_city,e.complainant_data[0].complainant_barangay].indexOf(0)!=-1?t("Complainant address is required!","Unable to proceed, please provide Complainant address.","error",2500):e.narrative==""?t("Narrative report is required!","Unable to proceed, please provide narrative report .","error",2500):i!="Complainant"?s("Complainant"):s("Suspect/s"),l=u=>{u.preventDefault(),d(route("blotter"))};return console.log("data : ",n),a.jsxs(B,{user:_.user,header:a.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Blotter"}),children:[a.jsx(y,{title:"Barangay Blotter"}),a.jsx(q,{pageName:i}),a.jsx("div",{className:"grid grid-cols-1 gap-9 sm:grid-cols-1",children:a.jsxs("div",{className:"flex flex-col lg:gap-0 gap-4",children:[i==="Complainant"?a.jsx(v,{data:e,setData:o}):null,a.jsx(x,{data:e,setData:o,person:i}),i==="Complainant"?a.jsx(w,{data:e,setData:o}):null,i==="Suspect/s"?a.jsx(k,{data:e,setData:o}):null,i==="Suspect/s"?a.jsx(j,{data:e,setData:o}):null,a.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[a.jsx("button",{className:"bg-blue-500  hover:bg-blue-700 text-white px-3 py-1 rounded-3xl flex gap-1",onClick:m,children:i==="Complainant"?a.jsxs(a.Fragment,{children:["Next to Person Complain of/Suspects",a.jsx(C,{className:"my-1 hover:font-bold"})]}):a.jsxs(a.Fragment,{children:[a.jsx(N,{className:"my-1 hover:font-bold"}),"Back"]})}),i==="Suspect/s"?a.jsx("form",{onSubmit:l,children:a.jsx("button",{className:"bg-blue-500  hover:bg-blue-700 text-white px-5 py-1 rounded-3xl flex gap-1",onClick:()=>{},children:c?a.jsxs(a.Fragment,{children:[" Submitting... ",a.jsx(S,{className:"m-1 hover:font-bold animate-spin"})]}):a.jsxs(a.Fragment,{children:[" Submit ",a.jsx(b,{className:"m-1 hover:font-bold"})]})})}):null]})]})})]})}export{O as default};
